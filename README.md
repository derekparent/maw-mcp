# MAW-MCP: Multi-Agent Workflow MCP Server

Coordinate parallel AI agent development workflows from any Claude interface.

## What It Does

- **Review**: Analyze codebase, identify improvements, generate agent prompts
- **Launch**: Get copy-paste prompts with branch names and sequencing
- **Integrate**: Merge order + comprehensive test plan
- **Decide**: Deploy, iterate, or add features recommendation

## Installation

```bash
# Clone
git clone https://github.com/your-username/maw-mcp
cd maw-mcp

# Install
pip install -e .

# Or with uv
uv pip install -e .
```

## Configuration

### Claude Desktop

Add to `~/Library/Application Support/Claude/claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "maw": {
      "command": "python",
      "args": ["-m", "src.server"],
      "cwd": "/Users/dp/Projects/maw-mcp"
    }
  }
}
```

### Cursor

Add to `.cursor/mcp.json` in your project:

```json
{
  "mcpServers": {
    "maw": {
      "command": "python",
      "args": ["-m", "src.server"],
      "cwd": "/Users/dp/Projects/maw-mcp"
    }
  }
}
```

## Tools

| Tool | Description |
|------|-------------|
| `maw_status` | Show current workflow state and next action |
| `maw_review` | Analyze codebase, generate agent prompts |
| `maw_launch` | Get agent prompts with sequencing |
| `maw_checkin` | Aggregate progress reports, show dashboard |
| `maw_integrate` | Merge order + test plan |
| `maw_decide` | Deploy/iterate/add recommendation |
| `maw_learn` | Capture learnings to PROJECT_LEARNINGS.md |
| `maw_patterns` | Search accumulated patterns |

## Workflow

```
idle â†’ review â†’ launch â†’ integrate â†’ decide
          â†‘                             â†“
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    (iterate)
```

### Review

```
> maw_review focus="security" wave_name="Security Hardening"

[Claude analyzes codebase and creates AGENT_PROMPTS/]

Review AGENT_PROMPTS/ before running maw_launch
```

### Launch

```
> maw_launch

## ðŸš€ Agent Launch Sequence

### Launch Order
1. Agent 1 - Run first (~20 min)
2. Agents 2, 3, 4 - Run in parallel

### Agent Prompts

#### Agent 1: Backend Security
**Branch:** `agent/1-backend-security`
...
```

### Check In

Agents provide completion reports when done:

```
> maw_checkin reports="## Agent 1 Completion Report..."

## ðŸ“Š Agent Status Dashboard

| Status | Count |
|--------|-------|
| âœ… Complete | 3 |
| âš ï¸ Partial | 1 |
```

### Integrate

```
> maw_integrate

## Integrate

### Recommended Merge Order
1. Documentation (lowest risk)
2. Tests
3. Backend
4. Frontend

## ðŸ§ª Pre-Integration Test Plan

| Test | Expected | Status |
|------|----------|--------|
| App starts | Clean startup | â˜ |
| GET /api/health | 200 OK | â˜ |
...
```

### Decide

```
> maw_decide

## Decide: What's Next?

| Condition | Recommendation |
|-----------|----------------|
| All tests pass | âœ… Deploy |
| Quality < 7/10 | ðŸ”„ Iterate |
```

## What Gets Created in Projects

```
your-project/
â”œâ”€â”€ WORKFLOW_STATE.json     # Tracks phase, iteration, agents
â”œâ”€â”€ AGENT_PROMPTS/          # Generated by maw_review
â”‚   â”œâ”€â”€ 1_Backend_Engineer.md
â”‚   â”œâ”€â”€ 2_Security.md
â”‚   â”œâ”€â”€ COORDINATION.md
â”‚   â””â”€â”€ README.md
â””â”€â”€ PROJECT_LEARNINGS.md    # Session notes
```

## Philosophy

- **Soft enforcement**: Warnings, not hard blocks
- **You're the operator**: Tools inform, you decide
- **Deliberate pacing**: Review before launch, check before integrate
- **Minimal project footprint**: Guides stay in server, not copied everywhere

## Content

Guides and templates in `content/`:

```
content/
â”œâ”€â”€ phases/
â”‚   â”œâ”€â”€ review.md
â”‚   â”œâ”€â”€ launch.md
â”‚   â”œâ”€â”€ integrate.md
â”‚   â””â”€â”€ decide.md
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ AGENT_PROMPT.md
â”‚   â”œâ”€â”€ COORDINATION.md
â”‚   â””â”€â”€ PR_TEMPLATE.md
â””â”€â”€ UNIVERSAL_PATTERNS.md
```

## License

MIT
